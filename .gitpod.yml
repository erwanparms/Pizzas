# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.

tasks:
  - init: | 
      npm install && npm run build
      export JSON_SERVER_URL=https://3000-${GITPOD_WORKSPACE_ID}.${GITPOD_WORKSPACE_CLUSTER_HOST}
      sed -i 's@:JSON_SERVER_URL:@'"$JSON_SERVER_URL"'@' api/db.json
    command: npm run start


ports:
  - port: 4200
    visibility: private
    onOpen: open-browser